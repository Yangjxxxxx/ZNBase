I220119 08:51:01.781003 1 util/log/clog.go:1194  [config] file created at: 2022/01/19 08:51:01
I220119 08:51:01.781003 1 util/log/clog.go:1194  [config] running on machine: ubuntu
I220119 08:51:01.781003 1 util/log/clog.go:1194  [config] binary: ZNBaseDB OSS 4cd474b8 (x86_64-linux-gnu, built 2022/01/19 07:14:44, go1.14)
I220119 08:51:01.781003 1 util/log/clog.go:1194  [config] arguments: [./znbase start --insecure --store=./node1 --listen-addr=:23456 --http-addr=:8000 --join=:23456,:23457,:23458]
I220119 08:51:01.781003 1 util/log/clog.go:1194  line format: [IWEF]yymmdd hh:mm:ss.uuuuuu goid file:line msg utf8=âœ“
I220119 08:51:01.781001 1 cli/start.go:1156  logging to directory /home/yangjx/go/src/github.com/znbasedb/znbase/node1/logs
W220119 08:51:01.781764 1 cli/start.go:1191  RUNNING IN INSECURE MODE!

- Your cluster is open for any client that can access <all your IP addresses>.
- Any user, even root, can log in without providing a password.
- Any user, connecting as root, can read or write any data in your cluster.
- There is no network encryption nor authentication, and thus no confidentiality.

Check out how to secure your cluster: official docs about version 4cd474b8
I220119 08:51:01.782430 1 server/status/recorder.go:610  available memory from cgroups (8.0 EiB) exceeds system memory 3.8 GiB, using system memory
W220119 08:51:01.782797 1 cli/start.go:1067  Using the default setting for --cache (128 MiB).
  A significantly larger value is usually needed for good performance.
  If you have a dedicated server a reasonable setting is --cache=.25 (976 MiB).
I220119 08:51:01.783214 1 server/status/recorder.go:610  available memory from cgroups (8.0 EiB) exceeds system memory 3.8 GiB, using system memory
W220119 08:51:01.783258 1 cli/start.go:1080  Using the default setting for --max-sql-memory (128 MiB).
  A significantly larger value is usually needed in production.
  If you have a dedicated server a reasonable setting is --max-sql-memory=.25 (976 MiB).
I220119 08:51:01.783337 1 server/status/recorder.go:610  available memory from cgroups (8.0 EiB) exceeds system memory 3.8 GiB, using system memory
I220119 08:51:01.783351 1 cli/start.go:1205  ZNBaseDB OSS 4cd474b8 (x86_64-linux-gnu, built 2022/01/19 07:14:44, go1.14)
I220119 08:51:01.799830 1 server/status/recorder.go:610  available memory from cgroups (8.0 EiB) exceeds system memory 3.8 GiB, using system memory
I220119 08:51:01.800052 1 server/config.go:400  system total memory: 3.8 GiB
I220119 08:51:01.800856 1 server/config.go:402  server configuration:
max offset             500000000
cache size             128 MiB
SQL memory pool size   128 MiB
scan interval          10m0s
scan min idle time     10ms
scan max idle time     1s
event log enabled      true
I220119 08:51:01.800946 1 cli/start.go:1045  using local environment variables: GODEBUG=cgocheck=0
I220119 08:51:01.801201 1 cli/start.go:1052  process identity: uid 1000 euid 1000 gid 1000 egid 1000
I220119 08:51:01.801211 1 cli/start.go:676  starting znbase node
I220119 08:51:01.810915 16 storage/engine/rocksdb.go:721  opening rocksdb instance at "/home/yangjx/go/src/github.com/znbasedb/znbase/node1/znbase-temp650971146"
I220119 08:51:01.831801 16 storage/engine/rocksdb.go:721  opening rocksdb instance at "/home/yangjx/go/src/github.com/znbasedb/znbase/node1/znbase-cursor-temp475961825"
I220119 08:51:01.855284 16 server/server.go:1008  [n?] monitoring forward clock jumps based on server.clock.forward_jump_check_enabled
W220119 08:51:01.857761 16 server/config_unix.go:92  soft open file descriptor limit 4096 is under the recommended limit 15000; this may decrease performance
please see official docs about version 4cd474b8 for more details
I220119 08:51:01.857953 16 storage/engine/rocksdb.go:721  opening rocksdb instance at "/home/yangjx/go/src/github.com/znbasedb/znbase/node1"
I220119 08:51:02.460997 16 server/config.go:509  [n?] 1 storage engine initialized
I220119 08:51:02.461011 16 server/config.go:512  [n?] rocksdb cache size: 128 MiB
I220119 08:51:02.461015 16 server/config.go:512  [n?] store 0: rocksdb, max size 0 B, max open file limit 3840
W220119 08:51:02.467782 16 gossip/gossip.go:1508  [n?] no incoming or outgoing connections
I220119 08:51:02.469642 16 gossip/gossip.go:397  [n1] NodeDescriptor set to node_id:1 address:<network_field:"tcp" address_field:"ubuntu:23456" > attrs:<> locality:<> ServerVersion:<major_val:19 minor_val:1 patch:0 unstable:10 > build_tag:"4cd474b8" started_at:1642582262469442755 location_name:<> 
I220119 08:51:02.473633 27 gossip/gossip.go:920  [n1] MaxPeers Recomputed as 3
I220119 08:51:02.476888 40 gossip/client.go:128  [n1] started gossip client to ubuntu:23457
I220119 08:51:02.477710 27 gossip/gossip.go:920  [n1] MaxPeers Recomputed as 3
I220119 08:51:02.477757 27 gossip/gossip.go:920  [n1] MaxPeers Recomputed as 3
I220119 08:51:02.511626 16 server/node.go:457  [n1] initialized store [n1,s1]: disk (capacity=78 GiB, available=35 GiB, used=30 MiB, logicalBytes=78 MiB), ranges=107, leases=0, queries=0.00, writes=0.00, bytesPerReplica={p10=0.00 p25=35172.00 p50=524279.00 p75=524293.00 p90=524301.00 pMax=40827460.00}, writesPerReplica={p10=0.00 p25=0.00 p50=0.00 p75=0.00 p90=0.00 pMax=0.00}
I220119 08:51:02.511893 16 storage/stores.go:238  [n1] read 2 node addresses from persistent storage
I220119 08:51:02.512500 16 server/node.go:695  [n1] connecting to gossip network to verify cluster ID...
I220119 08:51:02.512543 16 server/node.go:715  [n1] node connected via gossip and verified as part of cluster "3bbb8c74-c606-434f-b2eb-5e4523c470ba"
I220119 08:51:02.512669 16 server/node.go:538  [n1] node=1: started with [<no-attributes>=/home/yangjx/go/src/github.com/znbasedb/znbase/node1] engine(s) and attributes []
I220119 08:51:02.513285 16 server/status/recorder.go:610  [n1] available memory from cgroups (8.0 EiB) exceeds system memory 3.8 GiB, using system memory
I220119 08:51:02.513433 16 server/server.go:1730  [n1] starting http server at [::]:8000 (use: ubuntu:8000)
I220119 08:51:02.513445 16 server/server.go:1732  [n1] starting grpc/postgres server at [::]:23456
I220119 08:51:02.513456 16 server/server.go:1733  [n1] advertising ZNBaseDB node at ubuntu:23456
I220119 08:51:04.478126 101 gossip/gossip.go:1522  [n1] node has connected to cluster via gossip
I220119 08:51:04.478312 101 storage/stores.go:257  [n1] wrote 2 node addresses to persistent storage
I220119 08:51:06.414503 16 server/server.go:1802  [n1] done ensuring all necessary migrations have run
I220119 08:51:06.414520 16 server/server.go:1805  [n1] serving sql connections
I220119 08:51:06.414675 16 cli/start.go:813  [config] clusterID: 3bbb8c74-c606-434f-b2eb-5e4523c470ba
I220119 08:51:06.414693 16 cli/start.go:821  node startup completed:
ZNBaseDB node starting at 2022-01-19 08:51:06.414601165 +0000 UTC (took 4.6s)
build:               OSS 4cd474b8 @ 2022/01/19 07:14:44 (go1.14)
webui:               http://ubuntu:8000
sql:                 postgresql://root@ubuntu:23456?sslmode=disable
client flags:        ./znbase <client cmd> --host=ubuntu:23456 --insecure
logs:                /home/yangjx/go/src/github.com/znbasedb/znbase/node1/logs
temp dir:            /home/yangjx/go/src/github.com/znbasedb/znbase/node1/znbase-temp650971146
external I/O path:   /home/yangjx/go/src/github.com/znbasedb/znbase/node1/extern
store[0]:            path=/home/yangjx/go/src/github.com/znbasedb/znbase/node1,state=ENABLE
storage engine:      rocksdb
status:              restarted pre-existing node
clusterID:           3bbb8c74-c606-434f-b2eb-5e4523c470ba
nodeID:              1
I220119 08:51:06.416169 561 security/audit/task/runner.go:216  [n1] audit_server_edd3a98a-7904-11ec-8202-000c29793ffc monitor workers every 5 seconds
I220119 08:51:06.416194 560 security/audit/task/runner.go:284  [n1] audit_server_edd3a98a-7904-11ec-8202-000c29793ffc init, min:3, max:30
I220119 08:51:06.416555 557 security/audit/server/audit_server.go:125  [n1] refresh audit server settings
W220119 08:51:06.439398 136 storage/node_liveness.go:523  [n1,hb] slow heartbeat took 3.9s
I220119 08:51:06.469168 551 server/server_update.go:64  [n1] failed attempt to upgrade cluster version, error: node 4 not running (DEAD), cannot determine version
I220119 08:51:06.490184 580 sql/event_log.go:235  [n1] Event: "node_restart", target: 1, info: nodeID:1, lastUp:1642582240717715501, ClusterID:3bbb8c74-c606-434f-b2eb-5e4523c470ba
I220119 08:51:07.401947 551 server/server_update.go:64  [n1] failed attempt to upgrade cluster version, error: node 4 not running (DEAD), cannot determine version
I220119 08:51:09.289038 551 server/server_update.go:64  [n1] failed attempt to upgrade cluster version, error: node 4 not running (DEAD), cannot determine version
I220119 08:51:12.520963 214 server/status/runtime.go:500  [n1] runtime stats: 222 MiB RSS, 224 goroutines, 121 MiB/224 KiB/135 MiB GO alloc/idle/total, 17 MiB/22 MiB CGO alloc/total, 0.0 CGO/sec, 0.0/0.0 %(u/s)time, 0.0 %gc (7x), 682 KiB/682 KiB (r/w)net
I220119 08:51:13.027195 551 server/server_update.go:64  [n1] failed attempt to upgrade cluster version, error: node 4 not running (DEAD), cannot determine version
I220119 08:51:16.418876 557 security/audit/server/audit_server.go:125  [n1] refresh audit server settings
I220119 08:51:21.755230 551 server/server_update.go:64  [n1] failed attempt to upgrade cluster version, error: node 4 not running (DEAD), cannot determine version
I220119 08:51:22.515167 209 storage/store.go:4034  [n1,s1] sstables (read amplification = 1):
6 [ 18M 3 ]: 15M 2M[2]
I220119 08:51:22.515257 209 storage/store.go:4035  [n1,s1] 
** Compaction Stats [default] **
Level    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) CompMergeCPU(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  L0      0/0    0.00 KB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   1.0      0.0      1.3      0.23              0.00         1    0.229       0      0
  L6      3/0   18.44 MB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   5.2     26.8     25.0      0.06              0.05         1    0.062     27K   4365
 Sum      3/0   18.44 MB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   6.2      5.7      6.3      0.29              0.05         2    0.145     27K   4365
 Int      0/0    0.00 KB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   6.2      5.7      6.3      0.29              0.05         2    0.145     27K   4365

** Compaction Stats [default] **
Priority    Files   Size     Score Read(GB)  Rn(GB) Rnp1(GB) Write(GB) Wnew(GB) Moved(GB) W-Amp Rd(MB/s) Wr(MB/s) Comp(sec) CompMergeCPU(sec) Comp(cnt) Avg(sec) KeyIn KeyDrop
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Low      0/0    0.00 KB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   0.0     26.8     25.0      0.06              0.05         1    0.062     27K   4365
User      0/0    0.00 KB   0.0      0.0     0.0      0.0       0.0      0.0       0.0   0.0      0.0      1.3      0.23              0.00         1    0.229       0      0
Uptime(secs): 20.7 total, 20.7 interval
Flush(GB): cumulative 0.000, interval 0.000
AddFile(GB): cumulative 0.000, interval 0.000
AddFile(Total Files): cumulative 0, interval 0
AddFile(L0 Files): cumulative 0, interval 0
AddFile(Keys): cumulative 0, interval 0
Cumulative compaction: 0.00 GB write, 0.09 MB/s write, 0.00 GB read, 0.08 MB/s read, 0.3 seconds
Interval compaction: 0.00 GB write, 0.09 MB/s write, 0.00 GB read, 0.08 MB/s read, 0.3 seconds
Stalls(count): 0 level0_slowdown, 0 level0_slowdown_with_compaction, 0 level0_numfiles, 0 level0_numfiles_with_compaction, 0 stop for pending_compaction_bytes, 0 slowdown for pending_compaction_bytes, 0 memtable_compaction, 0 memtable_slowdown, interval 0 total count
I220119 08:51:22.523937 214 server/status/runtime.go:500  [n1] runtime stats: 238 MiB RSS, 223 goroutines, 140 MiB/64 KiB/156 MiB GO alloc/idle/total, 17 MiB/23 MiB CGO alloc/total, 45.3 CGO/sec, 0.7/1.9 %(u/s)time, 0.0 %gc (0x), 409 KiB/409 KiB (r/w)net
I220119 08:51:26.419275 557 security/audit/server/audit_server.go:125  [n1] refresh audit server settings
I220119 08:51:32.525321 214 server/status/runtime.go:500  [n1] runtime stats: 247 MiB RSS, 224 goroutines, 99 MiB/45 MiB/164 MiB GO alloc/idle/total, 17 MiB/24 MiB CGO alloc/total, 47.1 CGO/sec, 0.7/1.9 %(u/s)time, 0.0 %gc (1x), 352 KiB/352 KiB (r/w)net
I220119 08:51:36.419669 557 security/audit/server/audit_server.go:125  [n1] refresh audit server settings
I220119 08:51:38.884946 551 server/server_update.go:64  [n1] failed attempt to upgrade cluster version, error: node 4 not running (DEAD), cannot determine version
I220119 08:51:39.788980 562 sql/event_log.go:235  [n1] Event: "node_quit", target: 1, info: nodeID:1, lastUp:1642582240717715501, ClusterID:3bbb8c74-c606-434f-b2eb-5e4523c470ba
I220119 08:51:40.783744 1044 storage/store.go:1161  [drain] waiting for 15 replicas to transfer their lease away
W220119 08:51:40.815086 36 vendor/google.golang.org/grpc/clientconn.go:1304  grpc: addrConn.createTransport failed to connect to {ubuntu:23456 0  <nil>}. Err :connection error: desc = "transport: failed to write client preface: io: read/write on closed pipe". Reconnecting...
I220119 08:51:40.815545 1555 util/stop/stopper.go:540  quiescing; tasks left:
2      [async] closedts-subscription
1      [async] stats.Refresher: maybeRefreshStats
1      [async] intent_resolver_ir_batcher
1      [async] intent_resolver_gc_batcher
1      [async] closedts-rangefeed-subscriber
1      [async] auto-upgrade
W220119 08:51:40.815662 36 vendor/google.golang.org/grpc/clientconn.go:1440  grpc: addrConn.transportMonitor exits due to: context canceled
I220119 08:51:40.815674 1555 util/stop/stopper.go:540  quiescing; tasks left:
2      [async] closedts-subscription
1      [async] stats.Refresher: maybeRefreshStats
1      [async] intent_resolver_ir_batcher
1      [async] intent_resolver_gc_batcher
1      [async] closedts-rangefeed-subscriber
I220119 08:51:40.815725 1555 util/stop/stopper.go:540  quiescing; tasks left:
2      [async] closedts-subscription
1      [async] stats.Refresher: maybeRefreshStats
1      [async] intent_resolver_gc_batcher
1      [async] closedts-rangefeed-subscriber
I220119 08:51:40.815735 1555 util/stop/stopper.go:540  quiescing; tasks left:
2      [async] closedts-subscription
1      [async] stats.Refresher: maybeRefreshStats
1      [async] closedts-rangefeed-subscriber
W220119 08:51:40.815928 101 gossip/gossip.go:1508  [n1] no incoming or outgoing connections
W220119 08:51:40.816029 547 storage/raft_transport.go:625  [n1] while processing outgoing Raft queue to node 2: rpc error: code = Canceled desc = grpc: the client connection is closing:
W220119 08:51:40.816035 119 storage/raft_transport.go:625  [n1] while processing outgoing Raft queue to node 2: rpc error: code = Canceled desc = context canceled:
W220119 08:51:40.816085 92 storage/raft_transport.go:625  [n1] while processing outgoing Raft queue to node 3: rpc error: code = Canceled desc = context canceled:
W220119 08:51:40.816095 533 storage/raft_transport.go:625  [n1] while processing outgoing Raft queue to node 3: rpc error: code = Canceled desc = context canceled:
I220119 08:51:40.816129 1555 util/stop/stopper.go:540  quiescing; tasks left:
2      [async] closedts-subscription
1      [async] closedts-rangefeed-subscriber
I220119 08:51:40.816212 1555 util/stop/stopper.go:540  quiescing; tasks left:
2      [async] closedts-subscription
I220119 08:51:40.817393 1555 util/stop/stopper.go:540  quiescing; tasks left:
1      [async] closedts-subscription
I220119 08:51:40.818558 557 security/audit/server/audit_server.go:139  [n1] stop refresh audit server settings
I220119 08:51:40.818619 558 security/audit/server/audit_server.go:152  [n1] stop audit server
I220119 08:51:41.019484 561 security/audit/task/runner.go:235  [n1] audit_server_edd3a98a-7904-11ec-8202-000c29793ffc stop monitor, because runner is going to stop
I220119 08:51:41.019527 558 security/audit/task/runner.go:373  [n1] audit_server_edd3a98a-7904-11ec-8202-000c29793ffc runner has been stopped
I220119 08:51:41.019630 1555 storage/engine/rocksdb.go:861  closing rocksdb instance at "/home/yangjx/go/src/github.com/znbasedb/znbase/node1/znbase-temp650971146"
I220119 08:51:41.020481 1555 storage/engine/rocksdb.go:861  closing rocksdb instance at "/home/yangjx/go/src/github.com/znbasedb/znbase/node1/znbase-cursor-temp475961825"
I220119 08:51:41.021763 1555 storage/engine/rocksdb.go:861  closing rocksdb instance at "/home/yangjx/go/src/github.com/znbasedb/znbase/node1"
